{"version":3,"file":"component---src-templates-embedded-sor-map-sor-map-tsx-6671473afc8a775f3059.js","mappings":"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","sources":["webpack://sod/./src/components/charts/map/sor/tooltip-body/sor-map-chart-tooltip-body.tsx","webpack://sod/./src/components/charts/map/sor/sor-map-chart.tsx","webpack://sod/./src/components/share-container/share-container.tsx","webpack://sod/./src/components/social-metadata/social-metadata-enum.tsx","webpack://sod/./src/components/social-metadata/social-metadata.tsx","webpack://sod/./src/templates/embedded/sor-map/sor-map.tsx","webpack://sod/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://sod/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://sod/./node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"sourcesContent":["import React, { ReactNode } from 'react';\nimport BaseComponent from '../../../../../base/base-component';\nimport { closeSVG } from '../../../../../global/svg/close';\nimport { ISORMapChartTooltipBodyProperties } from './sor-map-chart-tooltip-body-interface';\nimport './sor-map-chart-tooltip-body.scss';\n\nexport default class SORMapChartTooltipBody extends BaseComponent<ISORMapChartTooltipBodyProperties> {\n  public render(): ReactNode {\n    const { currentStateData } = this.props;\n\n    return (\n      <div className=\"sor-map-tooltip\">\n        <div className=\"sor-map-tooltip__title\">\n          {currentStateData.state}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Fragment, ReactChild, ReactNode } from 'react';\nimport { Geography } from 'react-simple-maps';\nimport BaseComponent from '../../../../base/base-component';\nimport { SORGradeColor } from '../../../../global/grade-color-enum';\nimport MapChart from '../map-chart';\nimport {\n  ISORMapChartData,\n  ISORMapChartProperties,\n  ISORMapChartState,\n} from './sor-map-chart-interface';\nimport SORMapChartTooltipBody from './tooltip-body/sor-map-chart-tooltip-body';\n\nexport default class SORMapChart extends BaseComponent<\n  ISORMapChartProperties,\n  ISORMapChartState\n> {\n  public constructor(properties: ISORMapChartProperties) {\n    super(properties);\n\n    this.state = {};\n  }\n\n  private getSORColorData(value: number): SORGradeColor {\n    switch (value) {\n      case 0:\n        return SORGradeColor.LOW;\n      case 1:\n        return SORGradeColor.MEDIUM;\n      case 2:\n        return SORGradeColor.HIGH;\n      default:\n        return SORGradeColor.LOW;\n    }\n  }\n\n  private setTooltipContent(currentState: ISORMapChartData): void {\n    this.setState({\n      currentStateData: currentState,\n    });\n  }\n\n  private removeTooltipContent(): void {\n    this.setState({\n      currentStateData: undefined,\n    });\n  }\n\n  public render(): ReactNode {\n    const { data, isTooltip, dataType } = this.props;\n    const { currentStateData } = this.state;\n    const {\n      all: { nodes },\n    } = data;\n\n    return (\n      <MapChart\n        isTooltip={isTooltip}\n        tooltipBody={(): ReactChild => {\n          return currentStateData ? (\n            <SORMapChartTooltipBody\n              currentStateData={currentStateData}\n              dataType={dataType}\n              removeTooltipContent={(): void => {\n                this.removeTooltipContent();\n              }}\n            />\n          ) : (\n            ''\n          );\n        }}\n      >\n        {({ geographies }) =>\n          geographies.map((geo) => {\n            const currentState = nodes.find(\n              (s) => s.state === geo.properties.name\n            );\n\n            console.log(dataType);\n            return (\n              <Fragment key={geo.rsmKey}>\n                <Geography\n                  geography={geo}\n                  stroke=\"#fff\"\n                  onMouseEnter={(event): void => {\n                    isTooltip && this.setTooltipContent(currentState);\n\n                    event.currentTarget.getBoundingClientRect();\n                  }}\n                  onMouseLeave={(): void => {\n                    isTooltip && this.removeTooltipContent();\n                  }}\n                  onTouchStart={(): void => {\n                    this.setTooltipContent(currentState);\n                  }}\n                  style={{\n                    default: {\n                      fill: this.getSORColorData(\n                        Number(currentState?.[dataType])\n                      ),\n                      outline: 'none',\n                    },\n                    hover: {\n                      fill: 'current',\n                      outline: 'none',\n                      cursor: 'default',\n                      strokeWidth: 2,\n                      opacity: 1,\n                      position: 'relative',\n                      zIndex: 9,\n                    },\n                    pressed: {\n                      fill: '#E42',\n                      outline: 'none',\n                    },\n                  }}\n                />\n              </Fragment>\n            );\n          })\n        }\n      </MapChart>\n    );\n  }\n}\n","import React, { ReactNode } from 'react';\nimport BaseComponent from '../../base/base-component';\nimport { IShareContainerProperties } from './share-container-interface';\n\nexport default class ShareContainer extends BaseComponent<IShareContainerProperties> {\n  public render(): ReactNode {\n    const { children, shareName, ...restProperties } = this.props;\n\n    return (\n      <div\n        data-id=\"share\"\n        data-name={shareName}\n        {...restProperties}\n        style={{\n          pointerEvents: 'none',\n        }}\n      >\n        {children}\n      </div>\n    );\n  }\n}\n","export enum SocialMetadataType {\n  SUMMARY = 'summary',\n  SUMMARY_LARGE_IMAGE = 'summary_large_image',\n  OBJECT = 'object',\n}\n","import React, { ReactNode } from 'react';\nimport { Helmet } from 'react-helmet';\nimport BaseComponent from '../../base/base-component';\nimport { SocialMetadataType } from './social-metadata-enum';\nimport { ISocialMetadataProperties } from './social-metadata-interface';\n\nexport default class SocialMetadata extends BaseComponent<ISocialMetadataProperties> {\n  public render(): ReactNode {\n    const { title, description, imageResourceFileName, type } = this.props;\n    const imageSourceContent: string = `${this.getResourcesPath()}/${imageResourceFileName}`;\n\n    return (\n      <Helmet\n        meta={[\n          {\n            property: 'og:title',\n            content: title,\n          },\n          {\n            property: 'og:type',\n            content: SocialMetadataType.OBJECT,\n          },\n          {\n            property: 'og:description',\n            content: description,\n          },\n          {\n            property: 'og:image',\n            content: imageSourceContent,\n          },\n          {\n            name: 'twitter:card',\n            content: type,\n          },\n          {\n            name: 'twitter:title',\n            content: title,\n          },\n          {\n            name: 'twitter:image:src',\n            content: imageSourceContent,\n          },\n          {\n            name: 'twitter:description',\n            content: description,\n          },\n        ]}\n      />\n    );\n  }\n\n  protected getResourcesPath(): string {\n    return `${process.env.SITE_URL}/static/images`;\n  }\n}\n","import { graphql, Link } from 'gatsby';\nimport React, { Fragment, ReactNode } from 'react';\nimport BaseComponent from '../../../base/base-component';\nimport StateOfReformMapChart from '../../../components/charts/map/sor/sor-map-chart';\nimport ContainerBox from '../../../components/container-box/container-box';\nimport ShareContainer from '../../../components/share-container/share-container';\nimport SocialMetadata from '../../../components/social-metadata/social-metadata';\nimport { SocialMetadataType } from '../../../components/social-metadata/social-metadata-enum';\nimport SvgIcon from '../../../components/svg-icon/svg-icon';\nimport { SvgIconPathCommand } from '../../../components/svg-icon/svg-icon-enum';\nimport { Route } from '../../../global/route-enum';\nimport { IEmbeddedSORMapProperties } from './sor-map-interface';\n\nexport default class EmbeddedSORMap extends BaseComponent<IEmbeddedSORMapProperties> {\n  protected declareTranslateCollection(): string {\n    return 'sorMapTemplate';\n  }\n\n  public render(): ReactNode {\n    const { data, pageContext } = this.props;\n    const { dataType } = pageContext;\n\n    return (\n      <Fragment>\n        <SocialMetadata\n          type={SocialMetadataType.SUMMARY}\n          title={this.translate(`${dataType}Title`)}\n          description={this.translate(`${dataType}Description`)}\n          imageResourceFileName={`embedded-sor-${dataType}-map.png`}\n        />\n        <ContainerBox className=\"c-section--embed\">\n          <ShareContainer\n            className=\"c-embed__wrap\"\n            shareName={`sor-${dataType}-map`}\n          >\n            <div className=\"c-embed__box\">\n              <h2 className=\"c-score__title\">\n                {this.translate(`${dataType}Title`)}\n              </h2>\n              <StateOfReformMapChart data={data} dataType={dataType} />\n            </div>\n            <div className=\"c-embed__logo\">\n              <Link to={Route.HOME}>\n                <SvgIcon\n                  width=\"60\"\n                  viewBox=\"0 0 99 44\"\n                  paths={[\n                    {\n                      command: SvgIconPathCommand.STATE_OF_REFORM,\n                      fill: '#0d0c0d',\n                    },\n                  ]}\n                />\n              </Link>\n            </div>\n          </ShareContainer>\n        </ContainerBox>\n      </Fragment>\n    );\n  }\n}\n\nexport const query = graphql`\n  query GetStateOfReformEmbeddedData {\n    all: allSheetDataSor {\n      nodes {\n        rcv\n        state\n        code\n        primaries\n        irc\n        id\n        voteAtHome\n      }\n    }\n  }\n`;\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"names":["SORMapChartTooltipBody","render","currentStateData","this","props","className","state","BaseComponent","SORMapChart","properties","getSORColorData","value","SORGradeColor","setTooltipContent","currentState","setState","removeTooltipContent","undefined","data","isTooltip","dataType","nodes","all","tooltipBody","geographies","map","geo","find","s","name","console","log","Fragment","key","rsmKey","Geography","geography","stroke","onMouseEnter","event","currentTarget","getBoundingClientRect","onMouseLeave","onTouchStart","style","default","fill","Number","outline","hover","cursor","strokeWidth","opacity","position","zIndex","pressed","ShareContainer","children","shareName","restProperties","pointerEvents","SocialMetadataType","SocialMetadata","title","description","imageResourceFileName","type","imageSourceContent","getResourcesPath","meta","property","content","process","EmbeddedSORMap","declareTranslateCollection","pageContext","translate","Link","to","Route","width","viewBox","paths","command","SvgIconPathCommand","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_createClass","protoProps","staticProps","prototype","_defineProperty","obj"],"sourceRoot":""}