{"version":3,"file":"component---src-templates-embedded-overall-state-score-overall-state-score-tsx-d53e86903d8ddd0fea43.js","mappings":"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","sources":["webpack://sod/./src/components/share-container/share-container.tsx","webpack://sod/./src/components/states/state-score/state-score.tsx","webpack://sod/./src/components/states/state-overall-score/state-overall-score.tsx","webpack://sod/./src/templates/embedded/overall-state-score/overall-state-score.tsx","webpack://sod/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://sod/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"sourcesContent":["import React, { ReactNode } from 'react';\nimport BaseComponent from '../../base/base-component';\nimport { IShareContainerProperties } from './share-container-interface';\n\nexport default class ShareContainer extends BaseComponent<IShareContainerProperties> {\n  public render(): ReactNode {\n    const { children, shareName, ...restProperties } = this.props;\n\n    return (\n      <div data-id=\"share\" data-name={shareName} {...restProperties}>\n        {children}\n      </div>\n    );\n  }\n}\n","import React, { ReactNode } from \"react\";\nimport BaseComponent from \"../../../base/base-component\";\nimport CycleScoreChart from \"../../charts/cycle-score/cycle-score\";\nimport { ICycleScoreChartPoint } from \"../../charts/cycle-score/cycle-score-interface\";\nimport Grade from \"../../grade/grade\";\nimport { GradeSize } from \"../../grade/grade-enum\";\nimport { IStateScoreProperties } from \"./state-score-interface\";\nimport \"./state-score.scss\";\n\nexport default class StateScore extends BaseComponent<IStateScoreProperties> {\n  public render(): ReactNode {\n    const {\n      title = \"Overall Score\",\n      description = \"description goes here\",\n      overallGrade,\n      overallScore,\n      cycleScores,\n    } = this.props;\n\n    const chartData: ICycleScoreChartPoint[] = cycleScores.map(\n      (cycleScore): ICycleScoreChartPoint => {\n        return {\n          cycle: cycleScore.cycle,\n          score: cycleScore.score,\n          weight: cycleScore.weight,\n        };\n      }\n    );\n\n    return (\n      <div className=\"c-state__score\">\n        <h3 className=\"c-score__title\">{title}</h3>\n        <div className=\"c-score__details\">\n          <div className=\"c-score__wrap\">\n            <div className=\"c-grade__wrap\">\n              <Grade grade={overallGrade} size={GradeSize.LARGE} />\n              <span>{overallScore}</span>\n            </div>\n            <div className=\"c-scrore__desc\">\n              {description}\n            </div>\n          </div>\n          {chartData.length > 0 ? (\n            <div className=\"c-score__chart\">\n              <CycleScoreChart\n                overallGrade={overallGrade}\n                chartPoints={cycleScores}\n              />\n            </div>\n          ) : (\n            <></>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { ReactNode } from 'react';\nimport BaseComponent from '../../../base/base-component';\nimport { ISODNode } from '../../../global/global-interfaces';\nimport { ICycleScoreChartPoint } from '../../charts/cycle-score/cycle-score-interface';\nimport StateScore from '../state-score/state-score';\nimport { IStateOverallScoreProperties } from './state-overall-score-interface';\n\nexport default class StateOverallScore extends BaseComponent<IStateOverallScoreProperties> {\n  public render(): ReactNode {\n    const { data, title, description } = this.props;\n    const dataCycleScores: ICycleScoreChartPoint[] = [];\n    let overall: ISODNode;\n\n    data.nodes.forEach((node): void => {\n      const { cycle, score, weight } = node;\n\n      if (cycle === 'Overall') {\n        overall = node;\n      } else {\n        dataCycleScores.push({\n          cycle,\n          score: score * 100,\n\n          weight,\n        });\n      }\n    });\n\n    const { score, grade } = overall;\n\n    return (\n      <StateScore\n        title={title}\n        description={description}\n        overallGrade={grade}\n        overallScore={Math.round(score * 100)}\n        cycleScores={dataCycleScores}\n      />\n    );\n  }\n}\n","import { graphql, Link } from 'gatsby';\nimport React, { Fragment, ReactNode } from 'react';\nimport { generateUrlForStates } from '../../../../utils';\nimport BaseComponent from '../../../base/base-component';\nimport ContainerBox from '../../../components/container-box/container-box';\nimport ShareContainer from '../../../components/share-container/share-container';\nimport SocialMetadata from '../../../components/social-metadata/social-metadata';\nimport { SocialMetadataType } from '../../../components/social-metadata/social-metadata-enum';\nimport StateOverallScore from '../../../components/states/state-overall-score/state-overall-score';\nimport SvgIcon from '../../../components/svg-icon/svg-icon';\nimport { SvgIconPathCommand } from '../../../components/svg-icon/svg-icon-enum';\nimport { Route } from '../../../global/route-enum';\nimport { IEmbeddedOverallStateScoreProperties } from './overall-state-score-interface';\nexport default class EmbeddedOverallStateScore extends BaseComponent<IEmbeddedOverallStateScoreProperties> {\n  protected declareTranslateCollection(): string | undefined {\n    return 'stateOverallTemplate';\n  }\n\n  public render(): ReactNode {\n    const { data, pageContext } = this.props;\n    const { scores } = data;\n    const { state } = pageContext;\n\n    return (\n      <Fragment>\n        <SocialMetadata\n          type={SocialMetadataType.SUMMARY}\n          title={`${state} ${this.translate('scoreTitle')}`}\n          description={this.translate('scoreDescription')}\n          imageResourceFileName={`embedded-overall-score-${generateUrlForStates(\n            state\n          )}.png`}\n        />\n        <ContainerBox className=\"c-section--embed\">\n          <ShareContainer\n            className=\"c-embed__wrap\"\n            shareName={`overall-score-${generateUrlForStates(state)}`}\n          >\n            <div className=\"c-embed__box\">\n              <div className=\"c-embed__state\">{state}</div>\n              <StateOverallScore\n                title={this.translate('scoreTitle')}\n                data={scores}\n              />\n            </div>\n            <div className=\"c-embed__logo\">\n              <Link to={Route.HOME}>\n                <SvgIcon\n                  width=\"111\"\n                  viewBox=\"0 0 208 44\"\n                  paths={[\n                    {\n                      command: SvgIconPathCommand.STATE_OF_DEMOCRACY,\n                      fill: '#0D0C0D',\n                    },\n                    {\n                      fillRule: 'evenodd',\n                      clipRule: 'evenodd',\n                      command: SvgIconPathCommand.LOGO_EAST,\n                      fill: '#C7AFF0',\n                    },\n                    {\n                      fillRule: 'evenodd',\n                      clipRule: 'evenodd',\n                      command: SvgIconPathCommand.LOGO_WEST,\n                      fill: '#4A1D96',\n                    },\n                  ]}\n                />\n              </Link>\n            </div>\n          </ShareContainer>\n        </ContainerBox>\n      </Fragment>\n    );\n  }\n}\n\nexport const query = graphql`\n  query EmbedOverallStateScore($state: String) {\n    scores: allSheetDataGrandTotal(\n      filter: {\n        state: { eq: $state }\n        component: { eq: \"Total\" }\n        measure: { eq: \"GrandTotal\" }\n      }\n    ) {\n      nodes {\n        code\n        state\n        grade\n        cycle\n        score\n        measure\n      }\n    }\n  }\n`;\n","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}"],"names":["ShareContainer","render","this","props","children","shareName","restProperties","BaseComponent","StateScore","title","description","overallGrade","overallScore","cycleScores","chartData","map","cycleScore","cycle","score","weight","className","grade","size","GradeSize","length","chartPoints","StateOverallScore","overall","data","dataCycleScores","nodes","forEach","node","push","Math","round","EmbeddedOverallStateScore","declareTranslateCollection","pageContext","scores","state","Fragment","type","SocialMetadataType","translate","imageResourceFileName","generateUrlForStates","Link","to","Route","width","viewBox","paths","command","SvgIconPathCommand","fill","fillRule","clipRule","_assertThisInitialized","self","ReferenceError","_objectWithoutPropertiesLoose","source","excluded","key","i","target","sourceKeys","Object","keys","indexOf"],"sourceRoot":""}